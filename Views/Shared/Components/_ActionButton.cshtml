@* Action Button Component
   Parameters:
   - icon: string (lucide icon name)
   - text: string
   - actionName: string (for asp-action)
   - routeId: string (for asp-route-id)
   - controller: string (for asp-controller, optional)
   - url: string (for direct href, optional)
   - buttonType: string (submit, button, link, default: link)
   - styleType: string (table-primary, table-secondary, btn, default: btn)
   - color: string (blue, red, green, orange, purple for table styles OR blue, danger, secondary, warning, outline for btn styles)
   - style: string (additional inline styles)
   - jsFunction: string (JavaScript function to call, e.g., "document.getElementById('formId').submit()")
*@

@{
    var icon = ViewData["Icon"]?.ToString();
    var text = ViewData["Text"]?.ToString() ?? "Button";
    var url = ViewData["Url"]?.ToString();
    var controller = ViewData["Controller"]?.ToString();
    var actionName = ViewData["ActionName"]?.ToString();
    var routeId = ViewData["RouteId"]?.ToString();
    var buttonType = ViewData["ButtonType"]?.ToString() ?? "link";
    var styleType = ViewData["StyleType"]?.ToString() ?? "btn";
    var color = ViewData["Color"]?.ToString() ?? "secondary";
    var additionalStyle = ViewData["Style"]?.ToString() ?? "";
    var jsFunction = ViewData["JsFunction"]?.ToString();
    
    // Determine CSS class
    string cssClass;
    if (styleType == "table-primary")
    {
        cssClass = $"btn-table-primary {color}";
    }
    else if (styleType == "table-secondary")
    {
        cssClass = $"btn-table-secondary {color}";
    }
    else
    {
        cssClass = $"btn btn-{color}";
    }
}

@if (buttonType == "submit" || buttonType == "button")
{
    <button type="@buttonType" class="@cssClass" style="@additionalStyle">
        @if (!string.IsNullOrEmpty(icon))
        {
            <i data-lucide="@icon"></i>
        }
        @text
    </button>
}
else if (!string.IsNullOrEmpty(jsFunction))
{
    <a href="javascript:@jsFunction" class="@cssClass" style="@additionalStyle">
        @if (!string.IsNullOrEmpty(icon))
        {
            <i data-lucide="@icon"></i>
        }
        @text
    </a>
}
else if (!string.IsNullOrEmpty(url))
{
    <a href="@url" class="@cssClass" style="@additionalStyle">
        @if (!string.IsNullOrEmpty(icon))
        {
            <i data-lucide="@icon"></i>
        }
        @text
    </a>
}
else if (!string.IsNullOrEmpty(controller) && !string.IsNullOrEmpty(actionName))
{
    if (!string.IsNullOrEmpty(routeId))
    {
        <a asp-controller="@controller" asp-action="@actionName" asp-route-id="@routeId" class="@cssClass" style="@additionalStyle">
            @if (!string.IsNullOrEmpty(icon))
            {
                <i data-lucide="@icon"></i>
            }
            @text
        </a>
    }
    else
    {
        <a asp-controller="@controller" asp-action="@actionName" class="@cssClass" style="@additionalStyle">
            @if (!string.IsNullOrEmpty(icon))
            {
                <i data-lucide="@icon"></i>
            }
            @text
        </a>
    }
}
else if (!string.IsNullOrEmpty(actionName))
{
    if (!string.IsNullOrEmpty(routeId))
    {
        <a asp-action="@actionName" asp-route-id="@routeId" class="@cssClass" style="@additionalStyle">
            @if (!string.IsNullOrEmpty(icon))
            {
                <i data-lucide="@icon"></i>
            }
            @text
        </a>
    }
    else
    {
        <a asp-action="@actionName" class="@cssClass" style="@additionalStyle">
            @if (!string.IsNullOrEmpty(icon))
            {
                <i data-lucide="@icon"></i>
            }
            @text
        </a>
    }
}

